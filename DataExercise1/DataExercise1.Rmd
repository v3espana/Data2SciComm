---
title: "Data Exercise 1: Decision Making"
author: "Vincent Espana"
date: "`r Sys.Date()`"
output: html_notebook
---

This is the notebook for the Data Exercise 1, about decision making. We did a study together in class on Qualtrics, then downloaded the data to analyze.

# Loading Libraries and Data

```{r}

library(tidyverse)

```

```{r}

de1 <- read_csv("CogSci412_DE1_data.csv") %>%
  filter(Progress == 100 & Status == "IP Address" ) %>%
  
  mutate(condition = case_when(is.na(FL_39_DO) == FALSE ~ FL_39_DO, 
                               is.na(FL_43_DO) == FALSE ~ FL_43_DO)) %>%
  
  select(ResponseId, 
         condition, 
         familiarity = Q10,
         pencil_ctrl = `Pencil Control`, 
         pencil_ctrl_conf = `Conf. Pencil Control`, 
         mag_stnd = `Magazine Standard`, 
         mag_stnd_conf = `Conf. Mag. Stand.` , 
         mag_control = Magazine_Control, 
         mag_ctrl_conf = `Conf. Mag. Control`, 
         pencil_stnd = Pencil_Standard, 
         pencil_stnd_conf = `Conf. Pencil Stand.`) %>%
  
  filter(ResponseId != "R_5R9cvvcJ5vFulLe")
  
  
 

```
This is in WIDE form, we want to get it in LONG form. How do we want to structure it?

Each cell can be categorized with three piece of information. What are they?
- pencil vs. magazine
- control vs. standard
- answer vs. confidence

What we want in long form:

ResponseId: unique identifier for that dataset
Content: what was the question about: pencils or magazines
Type: was the question a control question or a standard question
DV("dependent variable"): answer, confidence

value: the actual observed number/response

How do we get the wide form de1 into this desired format?

```{r}

long_de1 <- de1 %>%
  pivot_longer(pencil_ctrl:pencil_stnd_conf,
               names_to = "old_column",
               values_to = "value")

```


```{r}

long_de1 %>% 
  filter(is.na(value) == FALSE) %>% 
  separate(into = c("content", "type", "DV"), col = old_column)

```

To check whether our is.na(value) filter was working we did the following:
  group_by(ResponseId) %>%
  count() %>% 
  filter(n!= 4)
